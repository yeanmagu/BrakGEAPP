(function(a,c,b){typeof define=="function"&&define.amd?define(["jquery"],function(d){return b(d,a,c),d.mobile
}):b(a.jQuery,a,c)
})(this,document,function(a,d,b,c){(function(ao,aA,X,ae){function aj(i){while(i&&typeof i.originalEvent!="undefined"){i=i.originalEvent
}return i
}function aD(s,m){var k=s.type,p,n,i,l,r,j,o,t,q;
s=ao.Event(s),s.type=m,p=s.originalEvent,n=ao.event.props,k.search(/^(mouse|click)/)>-1&&(n=g);
if(p){for(o=n.length,l;
o;
){l=n[--o],s[l]=p[l]
}}k.search(/mouse(down|up)|click/)>-1&&!s.which&&(s.which=1);
if(k.search(/^touch/)!==-1){i=aj(p),k=i.touches,r=i.changedTouches,j=k&&k.length?k[0]:r&&r.length?r[0]:ae;
if(j){for(t=0,q=ab.length;
t<q;
t++){l=ab[t],s[l]=j[l]
}}}return s
}function Q(l){var i={},j,k;
while(l){j=ao.data(l,az);
for(k in j){j[k]&&(i[k]=i.hasVirtualBinding=!0)
}l=l.parentNode
}return i
}function ax(k,i){var j;
while(k){j=ao.data(k,az);
if(j&&(!i||j[i])){return k
}k=k.parentNode
}return null
}function an(){Z=!1
}function ay(){Z=!0
}function aB(){aC=0,J.length=0,ad=!1,ay()
}function ah(){an()
}function ar(){z(),al=setTimeout(function(){al=0,aB()
},ao.vmouse.resetTimerDuration)
}function z(){al&&(clearTimeout(al),al=0)
}function Y(l,j,k){var i;
if(k&&k[l]||!k&&ax(j.target,l)){i=aD(j,l),ao(j.target).trigger(i)
}return i
}function W(k){var i=ao.data(k.target,aa);
if(!ad&&(!aC||aC!==i)){var j=Y("v"+k.type,k);
j&&(j.isDefaultPrevented()&&k.preventDefault(),j.isPropagationStopped()&&k.stopPropagation(),j.isImmediatePropagationStopped()&&k.stopImmediatePropagation())
}}function ak(j){var l=aj(j).touches,i,k;
if(l&&l.length===1){i=j.target,k=Q(i);
if(k.hasVirtualBinding){aC=ai++,ao.data(i,aa,aC),z(),ah(),ag=!1;
var m=aj(j).touches[0];
V=m.pageX,ap=m.pageY,Y("vmouseover",j,k),Y("vmousedown",j,k)
}}}function h(i){if(Z){return
}ag||Y("vmousecancel",i,Q(i.target)),ag=!0,ar()
}function au(j){if(Z){return
}var l=aj(j).touches[0],m=ag,k=ao.vmouse.moveDistanceThreshold,i=Q(j.target);
ag=ag||Math.abs(l.pageX-V)>k||Math.abs(l.pageY-ap)>k,ag&&!m&&Y("vmousecancel",j,i),Y("vmousemove",j,i),ar()
}function ac(i){if(Z){return
}ay();
var l=Q(i.target),j;
Y("vmouseup",i,l);
if(!ag){var k=Y("vclick",i,l);
k&&k.isDefaultPrevented()&&(j=aj(i).changedTouches[0],J.push({touchID:aC,x:j.clientX,y:j.clientY}),ad=!0)
}Y("vmouseout",i,l),ag=!1,ar()
}function at(k){var i=ao.data(k,az),j;
if(i){for(j in i){if(i[j]){return !0
}}}return !1
}function aw(){}function f(j){var i=j.substr(1);
return{setup:function(l,m){at(this)||ao.data(this,az,{});
var k=ao.data(this,az);
k[j]=!0,aq[j]=(aq[j]||0)+1,aq[j]===1&&K.bind(i,W),ao(this).bind(i,aw),e&&(aq.touchstart=(aq.touchstart||0)+1,aq.touchstart===1&&K.bind("touchstart",ak).bind("touchend",ac).bind("touchmove",au).bind("scroll",h))
},teardown:function(l,m){--aq[j],aq[j]||K.unbind(i,W),e&&(--aq.touchstart,aq.touchstart||K.unbind("touchstart",ak).unbind("touchmove",au).unbind("touchend",ac).unbind("scroll",h));
var k=ao(this),n=ao.data(this,az);
n&&(n[j]=!1),k.unbind(i,aw),at(this)||k.removeData(az)
}}
}var az="virtualMouseBindings",aa="virtualTouchID",av="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),ab="clientX clientY pageX pageY screenX screenY".split(" "),am=ao.event.mouseHooks?ao.event.mouseHooks.props:[],g=ao.event.props.concat(am),aq={},al=0,V=0,ap=0,ag=!1,J=[],ad=!1,Z=!1,e="addEventListener" in X,K=ao(X),ai=1,aC=0,G;
ao.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};
for(var af=0;
af<av.length;
af++){ao.event.special[av[af]]=f(av[af])
}e&&X.addEventListener("click",function(j){var p=J.length,i=j.target,n,q,k,l,m,o;
if(p){n=j.clientX,q=j.clientY,G=ao.vmouse.clickDistanceThreshold,k=i;
while(k){for(l=0;
l<p;
l++){m=J[l],o=0;
if(k===i&&Math.abs(m.x-n)<G&&Math.abs(m.y-q)<G||ao.data(k,aa)===m.touchID){j.preventDefault(),j.stopPropagation();
return
}}k=k.parentNode
}}},!0)
})(a,d,b),function(e){e.mobile={}
}(a),function(e,g){var f={touch:"ontouchend" in b};
e.mobile.support=e.mobile.support||{},e.extend(e.support,f),e.extend(e.mobile.support,f)
}(a),function(f,p,m){function j(r,l,o){var i=o.type;
o.type=l,f.event.dispatch.call(r,o),o.type=i
}var h=f(b);
f.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(l,i){f.fn[i]=function(o){return o?this.bind(i,o):this.trigger(i)
},f.attrFn&&(f.attrFn[i]=!0)
});
var n=f.mobile.support.touch,k="touchmove scroll",q=n?"touchstart":"mousedown",e=n?"touchend":"mouseup",g=n?"touchmove":"mousemove";
f.event.special.scrollstart={enabled:!0,setup:function(){function r(t,v){o=v,j(s,o?"scrollstart":"scrollstop",t)
}var s=this,l=f(s),o,i;
l.bind(k,function(t){if(!f.event.special.scrollstart.enabled){return
}o||r(t,!0),clearTimeout(i),i=setTimeout(function(){r(t,!1)
},50)
})
}},f.event.special.tap={tapholdThreshold:750,setup:function(){var l=this,i=f(l);
i.bind("vmousedown",function(y){function r(){clearTimeout(o)
}function t(){r(),i.unbind("vclick",s).unbind("vmouseup",r),h.unbind("vmousecancel",t)
}function s(u){t(),z===u.target&&j(l,"tap",u)
}if(y.which&&y.which!==1){return !1
}var z=y.target,x=y.originalEvent,o;
i.bind("vmouseup",r).bind("vclick",s),h.bind("vmousecancel",t),o=setTimeout(function(){j(l,"taphold",f.Event("taphold",{target:z}))
},f.event.special.tap.tapholdThreshold)
})
}},f.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(l){var i=l.originalEvent.touches?l.originalEvent.touches[0]:l;
return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:f(l.target)}
},stop:function(i){var l=i.originalEvent.touches?i.originalEvent.touches[0]:i;
return{time:(new Date).getTime(),coords:[l.pageX,l.pageY]}
},handleSwipe:function(l,i){i.time-l.time<f.event.special.swipe.durationThreshold&&Math.abs(l.coords[0]-i.coords[0])>f.event.special.swipe.horizontalDistanceThreshold&&Math.abs(l.coords[1]-i.coords[1])<f.event.special.swipe.verticalDistanceThreshold&&l.origin.trigger("swipe").trigger(l.coords[0]>i.coords[0]?"swipeleft":"swiperight")
},setup:function(){var l=this,i=f(l);
i.bind(q,function(t){function r(v){if(!o){return
}s=f.event.special.swipe.stop(v),Math.abs(o.coords[0]-s.coords[0])>f.event.special.swipe.scrollSupressionThreshold&&v.preventDefault()
}var o=f.event.special.swipe.start(t),s;
i.bind(g,r).one(e,function(){i.unbind(g,r),o&&s&&f.event.special.swipe.handleSwipe(o,s),o=s=m
})
})
}},f.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(l,i){f.event.special[l]={setup:function(){f(this).bind(i,f.noop)
}}
})
}(a,this)
});